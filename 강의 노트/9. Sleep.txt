*** Sleep은 따로 좀 더 찾아보자 ***


대기를 하는 방법 중 하나인 Sleep
슬립은 운영체제의 스케줄링과 관련이 있다

화장실에 사람이 있어 앞에서 무한으로 대기하는 게 아니라
일단 자리로 돌아와서 일정 시간 후에 다시 체크하는 그런 케이스
 ㄴ 그런데 운빨이라 자리 돌아온 순간 사람이 나와서 다른 사람이 들어가 버리면 ㅠㅠ

스케줄링
스레드가 다음 누구를 실행할지 운영체제 및 정책마다 다를텐데
또 우선순위가 있을 수 있다.

스케쥴링을 하면 결국 사용자 모드에서 커널모드로 변경해야 한다

그래서 스레드에서 작업을 할 때 일정 시간동안 작업할 시간을 부여를 해준다
타임 슬라이스라는 유효한 시간동안 작업을 하고
다시 소유권을 커널한테 넘겨주게 된다


코드로는 간단하게 함수만 만들거지만
근본적으로 복잡하고 많은 것들이 있다는 것을 알아야 한다.
ㄴ OS 좀 더 공부 필요

C++11에서 thread헤더가 추가되면서 관련된 코드들이 많이 추가되었다

this_thread::sleep_for() ==> 언제까지 자라
매개변수로 시간을 넣어서 시간 동안 대기를 한다
 ㄴ 스케줄링되지 않고 대기 타다가 시간이 끝나면 스케줄링하여 스레드가 다시 실행

this_thread::yield();는 자신의 타임 슬라이스를 양보한 다음
커널모드로 들어가서 알아서 스케줄링해 라는 의미
 ㄴ 사실 this_thread::sleep_for(0) 을 호출하는 것과 똑같다